// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
var t="function"==typeof Object.defineProperty?Object.defineProperty:null;var e,r=Object.defineProperty,n=Object.prototype,o=n.toString,i=n.__defineGetter__,l=n.__defineSetter__,u=n.__lookupGetter__,a=n.__lookupSetter__;e=function(){try{return t({},"x",{}),!0}catch(t){return!1}}()?r:function(t,e,r){var s,h,f,_;if("object"!=typeof t||null===t||"[object Array]"===o.call(t))throw new TypeError("invalid argument. First argument must be an object. Value: `"+t+"`.");if("object"!=typeof r||null===r||"[object Array]"===o.call(r))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+r+"`.");if((h="value"in r)&&(u.call(t,e)||a.call(t,e)?(s=t.__proto__,t.__proto__=n,delete t[e],t[e]=r.value,t.__proto__=s):t[e]=r.value),f="get"in r,_="set"in r,h&&(f||_))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return f&&i&&i.call(t,e,r.get),_&&l&&l.call(t,e,r.set),t};var s=e;function h(t,e,r){s(t,e,{configurable:!1,enumerable:!1,writable:!1,value:r})}var f=Object.prototype.hasOwnProperty;var _,p,c,y="function"==typeof Symbol&&"symbol"==typeof Symbol("foo")&&(_=Symbol,p="iterator",null!=_&&f.call(_,p))&&"symbol"==typeof Symbol.iterator?Symbol.iterator:null;function v(t){return this.next=null,this.prev=null,this.value=t,this}function b(){return this instanceof b?(this._length=0,this._first=null,this._last=null,this):new b}h(b.prototype,"clear",(function(){return this._length=0,this._first=null,this._last=null,this})),h(b.prototype,"first",(function(){if(this._length)return this._first.value})),h(b.prototype,"iterator",(function(){var t,e,r,n,o;return r=this,o=-1,t=this.toArray(),h(e={},"next",(function(){if(o+=1,n||o>=t.length)return{done:!0};return{value:t[o],done:!1}})),h(e,"return",(function(t){if(n=!0,arguments.length)return{value:t,done:!0};return{done:!0}})),y&&h(e,y,(function(){return r.iterator()})),e})),h(b.prototype,"last",(function(){if(this._length)return this._last.value})),c=b.prototype,s(c,"length",{configurable:!1,enumerable:!1,get:function(){return this._length}}),h(b.prototype,"pop",(function(){var t;return this._length&&(t=this._first.value,this._first.next?(this._first=this._first.next,this._first.prev=null):(this._first=null,this._last=null),this._length-=1),t})),h(b.prototype,"push",(function(t){var e;return e=new v(t),0===this._length?(this._first=e,this._last=e):(e.prev=this._last,this._last.next=e,this._last=e),this._length+=1,this})),h(b.prototype,"toArray",(function(){var t,e,r;for(e=[],t=this._first,r=0;r<this._length;r++)e.push(t.value),t=t.next;return e})),h(b.prototype,"toJSON",(function(){var t={type:"fifo"};return t.data=this.toArray(),t}));export{b as default};
//# sourceMappingURL=mod.js.map
